{% extends 'base.html.twig' %}

{% block title %}Mise Ã  jour de {{ produit.discTitle }}!{% endblock %}

{% block body %}
    <div class="container">
    <div class="row p-2">
        <h2>Modification de Laboratory of sound</h2>
        {% if error is not empty %}

        <div class="alert alert-danger" role="alert">
            {{ error }}

        </div>
        {% endif %}
        <form action="" method="post" enctype="multipart/form-data">

            <div class="form-group">
                <label for="title">Title</label>
                <input class="form-control" type="text" name="title" id="title"
                       value="{{ produit.discTitle }}">
            </div>


            <div class="form-group">
                <label for="artist_id">Artist</label>
                <select class="form-control" name="artist_id" id="artist_id">

                    <option value="{{ produit.artists.id }}">{{ produit.artists.artistName }}</option>
                    {%  for row in menu %}
                        {% if produit.artists.id !=  row.id%}
                    <option value="{{ row.id }}">{{ row.artistName }}</option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="year">Year</label>
                <input class="form-control" type="text" name="year" id="year"
                       value="{{ produit.discYear }}">
            </div>
            <div class="form-group">
                <label for="label">Label</label>
                <input class="form-control" type="text" name="label" id="label"
                       value="{{ produit.discLabel}}">
            </div>


            <div class="form-group">
                <label for="genre">Genre</label>
                <input class="form-control" type="text" name="genre" id="genre"
                       value="{{produit.discGenre}}">
            </div>
            <div class="form-group">
                <label for="price">Price</label>
                <input class="form-control" type="number" name="price" id="price"
                       value="{{ produit.discPrice }}"  pattern="[0-9]+(\\.[0-9][0-9]?)?">
            </div>

            <div class="form-group pb-2">
                <label for="title">Picture</label>
                <input class="form-control" type="file" name="disc_picture" id="disc_picture" accept="image/*">
            </div>

            <img id="picture" src="/assets/images/{{ produit.discPicture }}" class="img-fluid"
                 width="300"
                 alt="{{ produit.discTitle }}">

            <div class="form-group pt-2">
                <input type="hidden" name="disc_id" id="disc_id" value="{{ produit.id }}">
                <button type="submit" class="btn btn-success">Valider</button>
                <button type="reset" class="btn btn-danger">Annuler</button>
            </div>

        </form>
    </div>
</div>
{% endblock %}